{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Belen\\\\OneDrive\\\\Escritorio\\\\coderhouse\\\\myapp\\\\src\\\\componentes\\\\CartForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { CartContext } from \"./CartContext\";\nimport { createBuyOrder } from '../firebase/firestore';\nimport { useForm } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Form = () => {\n  _s();\n\n  var _errors$name, _errors$phone, _errors$email, _errors$email2;\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const {\n    cart,\n    clear,\n    totalPrice\n  } = useContext(CartContext);\n  const [buyer, setBuyer] = useState({\n    name: \"\",\n    phone: \"\",\n    email: \"\"\n  });\n\n  const handleChange = evt => {\n    const field = evt.target.name;\n    const value = evt.target.value;\n    setBuyer({ ...buyer,\n      [field]: value\n    });\n  };\n\n  function handleBuyOrder(evt) {\n    const dataOrder = {\n      buyer,\n      items: cart,\n      total: totalPrice()\n    };\n    createBuyOrder(dataOrder).then(orderCreated => {\n      clear();\n      alert(\"Ticket de compra: \" + orderCreated.id);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Ingrese sus datos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(handleBuyOrder),\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Nombre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"name\", {\n              required: true\n            }),\n            \"aria-required\": true,\n            onChange: handleChange,\n            type: \"text\",\n            name: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this), ((_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.type) === 'required' && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Se requiere un nombre de contacto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 58\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            children: \"Telefono\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"phone\", {\n              required: true\n            }),\n            \"aria-required\": true,\n            onChange: handleChange,\n            type: \"phone\",\n            name: \"phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), ((_errors$phone = errors.phone) === null || _errors$phone === void 0 ? void 0 : _errors$phone.type) === 'required' && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Se requiere un nombre de contacto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"email\", {\n              required: true,\n              pattern: /\\S+@\\S+\\.\\S+/\n            }),\n            onChange: handleChange,\n            type: \"email\",\n            name: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), ((_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.type) === 'required' && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Se requiere un Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 59\n          }, this), ((_errors$email2 = errors.email) === null || _errors$email2 === void 0 ? void 0 : _errors$email2.type) === 'pattern' && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" Invalid email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 58\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Finalizar Compra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Form, \"wNkWq8f2n1ouxmiU42dF+wb43Q0=\", false, function () {\n  return [useForm];\n});\n\n_c = Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useContext","useState","CartContext","createBuyOrder","useForm","Form","register","handleSubmit","formState","errors","cart","clear","totalPrice","buyer","setBuyer","name","phone","email","handleChange","evt","field","target","value","handleBuyOrder","dataOrder","items","total","then","orderCreated","alert","id","required","type","pattern"],"sources":["C:/Users/Belen/OneDrive/Escritorio/coderhouse/myapp/src/componentes/CartForm.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport { CartContext } from \"./CartContext\";\r\nimport { createBuyOrder } from '../firebase/firestore';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n\r\nexport const Form = () => {\r\n\r\n    const { register, handleSubmit, formState: {errors} } = useForm();\r\n    \r\n    const { cart, clear, totalPrice } = useContext(CartContext);\r\n\r\n    const [buyer, setBuyer] = useState({\r\n        name: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n    }\r\n    )\r\n\r\n\r\n    const handleChange = (evt) => {\r\n        const field = evt.target.name;\r\n        const value = evt.target.value;\r\n        setBuyer({ ...buyer, [field]: value });\r\n    }\r\n\r\n    function handleBuyOrder(evt) {\r\n        \r\n        const dataOrder = {\r\n            buyer,\r\n            items: cart,\r\n            total: totalPrice()\r\n        }\r\n\r\n        createBuyOrder(dataOrder).then((orderCreated) => {\r\n            clear();\r\n            alert(\"Ticket de compra: \" + orderCreated.id);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    return (<>\r\n    \r\n        <div>\r\n            <div>\r\n                <h1>Ingrese sus datos</h1>\r\n            </div>\r\n            <div>\r\n                <form onSubmit={handleSubmit(handleBuyOrder)}>\r\n                    <label htmlFor=\"name\">Nombre</label>\r\n                    <input {...register(\"name\", { required: true})} aria-required  onChange={handleChange} type=\"text\" name=\"name\"   />\r\n                    {errors.name?.type === 'required' && <span>Se requiere un nombre de contacto</span>}\r\n\r\n                    <label htmlFor=\"phone\">Telefono</label>\r\n                    <input {...register(\"phone\", { required: true})} aria-required  onChange={handleChange} type=\"phone\" name=\"phone\"  />\r\n                    {errors.phone?.type === 'required' && <span>Se requiere un nombre de contacto</span>}\r\n\r\n                    <label  htmlFor=\"email\">Email</label>\r\n                    <input {...register(\"email\", { required: true, pattern: /\\S+@\\S+\\.\\S+/ })} onChange={handleChange} type=\"email\" name=\"email\"  />\r\n                    {errors.email?.type === 'required' && <span>Se requiere un Email</span>}\r\n                    {errors.email?.type === 'pattern' && <span> Invalid email</span>}\r\n\r\n                    <button type=\"submit\" >Finalizar Compra</button>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}